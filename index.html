<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Joken Po!</title>
</head>
<script>

// Variáveis Globais.
let selecJogador = "";
let selecPc = "";
let opcionesJogo = ["pedra", "papel", "tesoura"];
let playerOne = 0;
let playerTwo = 0;
let a = 0;


// ----- Define as Funções do programa.
// Função da seleção do Computador.
function selecaoPc() {
    let diferencia = 3;
    let aleatorio = Math.random();
    aleatorio = Math.floor( aleatorio * diferencia);
    aleatorio = aleatorio + 1;
    let opcionEligida = opcionesJogo[aleatorio - 1];
    return opcionEligida

}

// Função de verificar se há algum ganhador.
function verificarGanhador() {
    if (playerOne == 3 || playerTwo == 3) {
            if (playerOne == 3) {
                alert("Jogador Humano ganhou!");
                return true
            } else {
                alert("Computador ganhou!");
                return true
            }
        } else {
            return false
        }
}

// Função que roda o jogo.
function jogo(partida) {

    // Inicia Loop de 5 partidas.
    for (a; a = 5;) {

        // Verifica se alguém já gangou ao menos 3 partidas:
        if (verificarGanhador()) {
            return
        };

        // Computador Seleciona sua opção.
        selecPc = selecaoPc();
        selecJogador = prompt("Escolha entre Pedra, Papel e Tesoura:").toLowerCase();

        // Situação Empate:
        if (selecJogador == selecPc) {
            alert("Empate!");
            a--;
        } else {

            // Situação Pedra:
            if (selecJogador == "pedra") {
                a++;
                if (selecPc == "tesoura") {
                    alert("Pedra destroi tesoura!");
                    playerOne++;
                } else {
                    alert("Papel destroi pedra!");
                    playerTwo++;
                }
            }

            // Situação Papel:
            if (selecJogador == "papel") {
                a++;
                if (selecPc == "pedra") {
                    alert("Papel destroi pedra!");
                    playerOne++;
                } else {
                    alert("Tesoura destroi papel!");
                    playerTwo++;
                }
            }

            // Situação Tesoura:
            if (selecJogador == "tesoura") {
                a++;
                if (selecPc == "papel") {
                    alert("Tesoura destroi papel!");
                    playerOne++;
                } else {
                    alert("Pedra destroi tesoura!");
                    playerTwo;
                }
            }
            a++;
        }  
    }
}
// -----


// INICIA O PROGRAMA TODO.
alert("Bem-vindo ao Joken Po!");
jogo();
alert("Fim de jogo!");

</script>

<body>
    
</body>
</html>